{"ast":null,"code":"import database from '../../db.json';\nexport default function handle(req, res) {\n  var method = req.method,\n      body = req.body;\n  console.log('body', req.body); // The request body\n\n  console.log('query', req.query); // The url querystring\n\n  console.log('cookies', req.cookies); // The passed cookies\n\n  console.log('method', req.method); // The passed cookies\n\n  if (method === 'GET') {\n    res.send({\n      title: 'Hellos World'\n    });\n  }\n\n  if (method === 'POST') {\n    var email = database.users.find(function (value) {\n      return value.email === body.email;\n    });\n    var password = database.users.find(function (value) {\n      return value.password === body.password;\n    });\n\n    if (email) {\n      if (password) {\n        res.send(database.user.email === body.email);\n      }\n    } else {\n      res.status(401).send('Unauthorized');\n    }\n  }\n}","map":{"version":3,"sources":["D:\\project\\next-v-9\\pages\\api\\auth.js"],"names":["database","handle","req","res","method","body","console","log","query","cookies","send","title","email","users","find","value","password","user","status"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,eAArB;AAEA,eAAe,SAASC,MAAT,CAAgBC,GAAhB,EAAqBC,GAArB,EAA0B;AAAA,MAC/BC,MAD+B,GACdF,GADc,CAC/BE,MAD+B;AAAA,MACvBC,IADuB,GACdH,GADc,CACvBG,IADuB;AAEvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBL,GAAG,CAACG,IAAxB,EAFuC,CAET;;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,GAAG,CAACM,KAAzB,EAHuC,CAGP;;AAChCF,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBL,GAAG,CAACO,OAA3B,EAJuC,CAIH;;AACpCH,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBL,GAAG,CAACE,MAA1B,EALuC,CAKL;;AAElC,MAAIA,MAAM,KAAK,KAAf,EAAsB;AACpBD,IAAAA,GAAG,CAACO,IAAJ,CAAS;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAT;AACD;;AAED,MAAIP,MAAM,KAAK,MAAf,EAAuB;AACrB,QAAMQ,KAAK,GAAGZ,QAAQ,CAACa,KAAT,CAAeC,IAAf,CAAoB,UAAAC,KAAK;AAAA,aAAIA,KAAK,CAACH,KAAN,KAAgBP,IAAI,CAACO,KAAzB;AAAA,KAAzB,CAAd;AACA,QAAMI,QAAQ,GAAGhB,QAAQ,CAACa,KAAT,CAAeC,IAAf,CACf,UAAAC,KAAK;AAAA,aAAIA,KAAK,CAACC,QAAN,KAAmBX,IAAI,CAACW,QAA5B;AAAA,KADU,CAAjB;;AAIA,QAAIJ,KAAJ,EAAW;AACT,UAAII,QAAJ,EAAc;AACZb,QAAAA,GAAG,CAACO,IAAJ,CAASV,QAAQ,CAACiB,IAAT,CAAcL,KAAd,KAAwBP,IAAI,CAACO,KAAtC;AACD;AACF,KAJD,MAIO;AACLT,MAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBR,IAAhB,CAAqB,cAArB;AACD;AACF;AACF","sourcesContent":["import database from '../../db.json'\r\n\r\nexport default function handle(req, res) {\r\n  const { method, body } = req\r\n  console.log('body', req.body) // The request body\r\n  console.log('query', req.query) // The url querystring\r\n  console.log('cookies', req.cookies) // The passed cookies\r\n  console.log('method', req.method) // The passed cookies\r\n\r\n  if (method === 'GET') {\r\n    res.send({ title: 'Hellos World' })\r\n  }\r\n\r\n  if (method === 'POST') {\r\n    const email = database.users.find(value => value.email === body.email)\r\n    const password = database.users.find(\r\n      value => value.password === body.password,\r\n    )\r\n\r\n    if (email) {\r\n      if (password) {\r\n        res.send(database.user.email === body.email)\r\n      }\r\n    } else {\r\n      res.status(401).send('Unauthorized')\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}